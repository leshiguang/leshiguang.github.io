!function(){var NO_DATA_TEXT="",options;function doFresh($searchField,value){var $search=Docsify.dom.find($searchField,".search"),$clearBtn=Docsify.dom.find($search,".clear-button");value?$clearBtn.classList.add("show"):$clearBtn.classList.remove("show")}function tplHTML($searchField,keyword){var html='<div class="input-wrap">\n <input type="text" class="input-search" value="'+(keyword=keyword||"")+'" placeholder="搜索" aria-label="Search text" />\n     <div class="clear-button">\n        <svg width="26" height="24">\n          <circle cx="12" cy="12" r="11" fill="#ccc" />\n          <path stroke="white" stroke-width="2" d="M8.25,8.25,15.75,15.75" />\n          <path stroke="white" stroke-width="2"d="M8.25,15.75,15.75,8.25" />\n        </svg>\n      </div>\n  <button class="search-button"><i class="fa fa-search" ></i>\n</button>   </div>\n    </div>',el=Docsify.dom.create("div",html);Docsify.dom.toggleClass(el,"add","search"),Docsify.dom.before($searchField,el)}function bindEvents($searchField,vm){var searchButton=Docsify.dom.find($searchField,".fa-search");$search=Docsify.dom.find($searchField,".search");var $input=Docsify.dom.find($search,"input"),$clearBtn=Docsify.dom.find($search,".clear-button"),timeId;Docsify.dom.on(searchButton,"click",(function(){var searchText=$input.value;window.location.href=("hash"===vm.router.mode?"#/":"/")+"search?keyword="+searchText})),Docsify.dom.on($input,"input",(function(e){clearTimeout(timeId),timeId=setTimeout((function(_){return doFresh($searchField,e.target.value.trim())}),100)})),Docsify.dom.on($clearBtn,"click",(function(e){$input.value="",doFresh($searchField)}))}function init($searchField,vm,keyword,jumpEvent){var $search;Docsify.dom.find($searchField,".search")||tplHTML($searchField,keyword),jumpEvent&&bindEvents($searchField,vm)}function getAndRemoveConfig(str){void 0===str&&(str="");var config={};return str&&(str=str.replace(/^'/,"").replace(/'$/,"").replace(/(?:^|\s):([\w-]+:?)=?([\w-%]+)?/g,(function(m,key,value){return-1===key.indexOf(":")?(config[key]=value&&value.replace(/&quot;/g,"")||!0,""):m})).trim()),{str:str,config:config}}var INDEXS={},LOCAL_STORAGE_EXPIRE_KEY="docsify.search.expires",LOCAL_STORAGE_INDEX_KEY="docsify.search.index";function resolveExpireKey(namespace){return namespace?LOCAL_STORAGE_EXPIRE_KEY+"/"+namespace:LOCAL_STORAGE_EXPIRE_KEY}function resolveIndexKey(namespace){return namespace?LOCAL_STORAGE_INDEX_KEY+"/"+namespace:LOCAL_STORAGE_INDEX_KEY}function escapeHtml(string){var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(string).replace(/[&<>"']/g,(function(s){return entityMap[s]}))}function getAllPaths(router){var paths=[];return Docsify.dom.findAll(".sidebar-nav a:not(.section-link):not([data-nosearch])").forEach((function(node){var href=node.href,originHref=node.getAttribute("href"),path=router.parse(href).path;path&&-1===paths.indexOf(path)&&!Docsify.util.isAbsolutePath(originHref)&&paths.push(path)})),paths}function getTableData(token){return token.text||"table"!==token.type||(token.cells.unshift(token.header),token.text=token.cells.map((function(rows){return rows.join(" | ")})).join(" |\n ")),token.text}function getListData(token){return token.text||"list"!==token.type||(token.text=token.raw),token.text}function saveData(maxAge,expireKey,indexKey){localStorage.setItem(expireKey,Date.now()+maxAge),localStorage.setItem(indexKey,JSON.stringify(INDEXS))}function genIndex(path,content,router,depth){void 0===content&&(content="");var tokens=window.marked.lexer(content),slugify=window.Docsify.slugify,index={},slug,title="";return tokens.forEach((function(token,tokenIndex){if("heading"===token.type&&token.depth<=depth){var ref=getAndRemoveConfig(token.text),str=ref.str,config=ref.config;slug=config.id?router.toURL(path,{id:slugify(config.id)}):router.toURL(path,{id:slugify(escapeHtml(token.text))}),str&&(title=str.replace(/<!-- {docsify-ignore} -->/,"").replace(/{docsify-ignore}/,"").replace(/<!-- {docsify-ignore-all} -->/,"").replace(/{docsify-ignore-all}/,"").trim()),index[slug]={slug:slug,title:title,body:""}}else{if(0===tokenIndex&&(slug=router.toURL(path),index[slug]={slug:slug,title:"/"!==path?path.slice(1):"Home Page",body:token.text||""}),!slug)return;index[slug]?index[slug].body?(token.text=getTableData(token),token.text=getListData(token),index[slug].body+="\n"+(token.text||"")):(token.text=getTableData(token),token.text=getListData(token),index[slug].body=index[slug].body?index[slug].body+token.text:token.text):index[slug]={slug:slug,title:"",body:""}}})),slugify.clear(),index}function ignoreDiacriticalMarks(keyword){return keyword&&keyword.normalize?keyword.normalize("NFD").replace(/[\u0300-\u036f]/g,""):keyword}function search(query){var matchingResults=[],data=[];Object.keys(INDEXS).forEach((function(key){data=data.concat(Object.keys(INDEXS[key]).map((function(page){return INDEXS[key][page]})))}));var keywords=(query=query.trim()).split(/[\s\-，\\/]+/);1!==keywords.length&&(keywords=[].concat(query,keywords));for(var loop=function(i){var post=data[i],matchesScore=0,resultStr="",handlePostTitle="",handlePostContent="",postTitle=post.title&&post.title.trim(),postContent=post.body&&post.body.trim(),postUrl=post.slug||"";if(postTitle&&(keywords.forEach((function(keyword){var regEx=new RegExp(ignoreDiacriticalMarks(keyword).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),indexTitle=-1,indexContent=-1;if(handlePostTitle=postTitle?ignoreDiacriticalMarks(postTitle):postTitle,handlePostContent=postContent?ignoreDiacriticalMarks(postContent):postContent,indexTitle=postTitle?handlePostTitle.search(regEx):-1,indexContent=postContent?handlePostContent.search(regEx):-1,indexTitle>=0||indexContent>=0){matchesScore+=indexTitle>=0?3:indexContent>=0?2:0,indexContent<0&&(indexContent=0);var start=0,end=0;end=0===(start=indexContent<11?0:indexContent-10)?150:indexContent+keyword.length+140,postContent&&end>postContent.length&&(end=postContent.length);var matchContent="..."+handlePostContent.substring(start,end).replace(regEx,(function(word){return'<em class="search-keyword">'+word+"</em>"}))+"...";resultStr+=matchContent}})),matchesScore>0)){var matchingPost={title:handlePostTitle,content:postContent?resultStr:"",url:postUrl,score:matchesScore};matchingResults.push(matchingPost)}},i=0;i<data.length;i++)loop(i);return matchingResults.sort((function(r1,r2){return r2.score-r1.score}))}function doSearch(value){var $search=Docsify.dom.find("div.search"),$clearBtn=Docsify.dom.find($search,".clear-button"),$body=Docsify.dom.find("body"),$panel=Docsify.dom.find(".search-results");if(!value)return $panel.classList.remove("show"),$clearBtn.classList.remove("show"),void($panel.innerHTML="");var matchs=search(value),html="";matchs.forEach((function(post){html+='<div class="matching-post">\n<a href="'+post.url+'">\n<h2>'+post.title+"</h2>\n<p>"+post.content+"</p>\n</a>\n</div>"})),$panel.classList.add("show"),$clearBtn.classList.add("show"),$panel.innerHTML=html||'<p class="empty">'+NO_DATA_TEXT+"</p>"}function searchInit(config,vm){var isAuto="auto"===config.paths,paths=isAuto?getAllPaths(vm.router):config.paths,namespaceSuffix="";if(paths.length&&isAuto&&config.pathNamespaces){var path=paths[0];if(Array.isArray(config.pathNamespaces))namespaceSuffix=config.pathNamespaces.filter((function(prefix){return path.slice(0,prefix.length)===prefix}))[0]||namespaceSuffix;else if(config.pathNamespaces instanceof RegExp){var matches=path.match(config.pathNamespaces);matches&&(namespaceSuffix=matches[0])}var isExistHome=-1===paths.indexOf(namespaceSuffix+"/"),isExistReadme=-1===paths.indexOf(namespaceSuffix+"/");isExistHome&&isExistReadme&&paths.unshift(namespaceSuffix+"/")}else-1===paths.indexOf("/")&&-1===paths.indexOf("/")&&paths.unshift("/");var expireKey=resolveExpireKey(config.namespace)+namespaceSuffix,indexKey=resolveIndexKey(config.namespace)+namespaceSuffix,isExpired=localStorage.getItem(expireKey)<Date.now();INDEXS=JSON.parse(localStorage.getItem(indexKey)),isExpired&&(INDEXS={});var len=paths.length,count=0;paths.forEach((function(path){if(INDEXS[path])return count++;Docsify.get(vm.router.getFile(path),!1,vm.config.requestHeaders).then((function(result){INDEXS[path]=genIndex(path,result,vm.router,config.depth),len===++count&&saveData(config.maxAge,expireKey,indexKey)}))}))}function bindSearchEvents(){var $search=Docsify.dom.find("div.search"),$input=Docsify.dom.find($search,"input"),$searchButton=Docsify.dom.find(".search-button"),$clearBtn=Docsify.dom.find(".clear-button"),timeId;Docsify.dom.on($search,"click",(function(e){return-1===["A","H2","P","EM"].indexOf(e.target.tagName)&&e.stopPropagation()})),Docsify.dom.on($searchButton,"click",(function(_){var searchText;doSearch(Docsify.dom.find($search,"input").value.trim())})),Docsify.dom.on($clearBtn,"click",(function(e){$input.value="",doSearch()}))}function updateOptions(opts){options=opts}function updatePlaceholder(text,path){var $input=Docsify.dom.getNode('.search input[type="search"]');if($input)if("string"==typeof text)$input.placeholder=text;else{var match=Object.keys(text).filter((function(key){return path.indexOf(key)>-1}))[0];$input.placeholder=text[match]}}function updateNoData(text,path){if("string"==typeof text)NO_DATA_TEXT=text;else{var match=Object.keys(text).filter((function(key){return path.indexOf(key)>-1}))[0];NO_DATA_TEXT=text[match]}}function init$1(opts,vm){updateOptions(opts)}function update(opts,vm){updateOptions(opts),updatePlaceholder(opts.placeholder,vm.route.path),updateNoData(opts.noData,vm.route.path),bindSearchEvents()}var CONFIG={placeholder:"Type to search",noData:"No Results!",paths:"auto",depth:2,maxAge:864e5,namespace:"develop-native",pathNamespaces:["/devlop-native","/develop-cloud"]},$init=function(hook,vm){var util=Docsify.util,opts=vm.config.search||CONFIG;Array.isArray(opts)?CONFIG.paths=opts:"object"==typeof opts&&(CONFIG.paths=Array.isArray(opts.paths)?opts.paths:"auto",CONFIG.maxAge=util.isPrimitive(opts.maxAge)?opts.maxAge:CONFIG.maxAge,CONFIG.placeholder=opts.placeholder||CONFIG.placeholder,CONFIG.noData=opts.noData||CONFIG.noData,CONFIG.depth=opts.depth||CONFIG.depth,CONFIG.namespace=opts.namespace||CONFIG.namespace,CONFIG.pathNamespaces=opts.pathNamespaces||CONFIG.pathNamespaces),hook.ready((function(_){init$1(CONFIG,vm),searchInit(CONFIG,vm)})),hook.doneEach((function(){var keyword=vm.router.parse().query.keyword;if("/"===vm.route.path){var $homeSearch=Docsify.dom.find(".homepage-search");$homeSearch&&init($homeSearch,vm,keyword,!0)}else if("/search"===vm.route.path){var $searchPageSearch=Docsify.dom.find(".search-page-search");if($searchPageSearch){init($searchPageSearch,vm,keyword,!0),update(CONFIG,vm);var $search=Docsify.dom.find("div.search"),searchText;doSearch(Docsify.dom.find($search,"input").value.trim())}}else{var $navSearch=Docsify.dom.find(".nav-search");$navSearch&&init($navSearch,vm,keyword,!0)}}))};$docsify.plugins=[].concat($docsify.plugins,$init)}();