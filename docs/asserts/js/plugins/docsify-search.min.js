!function(){function getAndRemoveConfig(str){void 0===str&&(str="");var config={};return str&&(str=str.replace(/^'/,"").replace(/'$/,"").replace(/(?:^|\s):([\w-]+:?)=?([\w-%]+)?/g,(function(m,key,value){return-1===key.indexOf(":")?(config[key]=value&&value.replace(/&quot;/g,"")||!0,""):m})).trim()),{str:str,config:config}}var INDEXS={},LOCAL_STORAGE_EXPIRE_KEY="docsify.search.expires",LOCAL_STORAGE_INDEX_KEY="docsify.search.index";function resolveExpireKey(namespace){return namespace?LOCAL_STORAGE_EXPIRE_KEY+"/"+namespace:LOCAL_STORAGE_EXPIRE_KEY}function resolveIndexKey(namespace){return namespace?LOCAL_STORAGE_INDEX_KEY+"/"+namespace:LOCAL_STORAGE_INDEX_KEY}function escapeHtml(string){var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(string).replace(/[&<>"']/g,(function(s){return entityMap[s]}))}function getAllPaths(router){var paths=[];return Docsify.dom.findAll(".sidebar-nav a:not(.section-link):not([data-nosearch])").forEach((function(node){var href=node.href,originHref=node.getAttribute("href"),path=router.parse(href).path;path&&-1===paths.indexOf(path)&&!Docsify.util.isAbsolutePath(originHref)&&paths.push(path)})),paths}function getTableData(token){return token.text||"table"!==token.type||(token.cells.unshift(token.header),token.text=token.cells.map((function(rows){return rows.join(" | ")})).join(" |\n ")),token.text}function getListData(token){return token.text||"list"!==token.type||(token.text=token.raw),token.text}function saveData(maxAge,expireKey,indexKey){localStorage.setItem(expireKey,Date.now()+maxAge),localStorage.setItem(indexKey,JSON.stringify(INDEXS))}function genIndex(path,content,router,depth){void 0===content&&(content="");var tokens=window.marked.lexer(content),slugify=window.Docsify.slugify,index={},slug,title="";return tokens.forEach((function(token,tokenIndex){if("heading"===token.type&&token.depth<=depth){var ref=getAndRemoveConfig(token.text),str=ref.str,config=ref.config;slug=config.id?router.toURL(path,{id:slugify(config.id)}):router.toURL(path,{id:slugify(escapeHtml(token.text))}),str&&(title=str.replace(/<!-- {docsify-ignore} -->/,"").replace(/{docsify-ignore}/,"").replace(/<!-- {docsify-ignore-all} -->/,"").replace(/{docsify-ignore-all}/,"").trim()),index[slug]={slug:slug,title:title,body:""}}else{if(0===tokenIndex&&(slug=router.toURL(path),index[slug]={slug:slug,title:"/"!==path?path.slice(1):"Home Page",body:token.text||""}),!slug)return;index[slug]?index[slug].body?(token.text=getTableData(token),token.text=getListData(token),index[slug].body+="\n"+(token.text||"")):(token.text=getTableData(token),token.text=getListData(token),index[slug].body=index[slug].body?index[slug].body+token.text:token.text):index[slug]={slug:slug,title:"",body:""}}})),slugify.clear(),index}function ignoreDiacriticalMarks(keyword){return keyword&&keyword.normalize?keyword.normalize("NFD").replace(/[\u0300-\u036f]/g,""):keyword}function search(query){var matchingResults=[],data=[];Object.keys(INDEXS).forEach((function(key){data=data.concat(Object.keys(INDEXS[key]).map((function(page){return INDEXS[key][page]})))}));var keywords=(query=query.trim()).split(/[\s\-，\\/]+/);1!==keywords.length&&(keywords=[].concat(query,keywords));for(var loop=function(i){var post=data[i],matchesScore=0,resultStr="",handlePostTitle="",handlePostContent="",postTitle=post.title&&post.title.trim(),postContent=post.body&&post.body.trim(),postUrl=post.slug||"";if(postTitle&&(keywords.forEach((function(keyword){var regEx=new RegExp(ignoreDiacriticalMarks(keyword).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),indexTitle=-1,indexContent=-1;if(handlePostTitle=postTitle?ignoreDiacriticalMarks(postTitle):postTitle,handlePostContent=postContent?ignoreDiacriticalMarks(postContent):postContent,indexTitle=postTitle?handlePostTitle.search(regEx):-1,indexContent=postContent?handlePostContent.search(regEx):-1,indexTitle>=0||indexContent>=0){matchesScore+=indexTitle>=0?3:indexContent>=0?2:0,indexContent<0&&(indexContent=0);var start=0,end=0;end=0===(start=indexContent<11?0:indexContent-10)?150:indexContent+keyword.length+140,postContent&&end>postContent.length&&(end=postContent.length);var matchContent="..."+handlePostContent.substring(start,end).replace(regEx,(function(word){return'<em class="search-keyword">'+word+"</em>"}))+"...";resultStr+=matchContent}})),matchesScore>0)){var matchingPost={title:handlePostTitle,content:postContent?resultStr:"",url:postUrl,score:matchesScore};matchingResults.push(matchingPost)}},i=0;i<data.length;i++)loop(i);return matchingResults.sort((function(r1,r2){return r2.score-r1.score}))}function init(config,vm){var isAuto="auto"===config.paths,paths=isAuto?getAllPaths(vm.router):config.paths,namespaceSuffix="";if(paths.length&&isAuto&&config.pathNamespaces){var path=paths[0];if(Array.isArray(config.pathNamespaces))namespaceSuffix=config.pathNamespaces.filter((function(prefix){return path.slice(0,prefix.length)===prefix}))[0]||namespaceSuffix;else if(config.pathNamespaces instanceof RegExp){var matches=path.match(config.pathNamespaces);matches&&(namespaceSuffix=matches[0])}var isExistHome=-1===paths.indexOf(namespaceSuffix+"/"),isExistReadme=-1===paths.indexOf(namespaceSuffix+"/README");isExistHome&&isExistReadme&&paths.unshift(namespaceSuffix+"/")}else-1===paths.indexOf("/")&&-1===paths.indexOf("/README")&&paths.unshift("/");var expireKey=resolveExpireKey(config.namespace)+namespaceSuffix,indexKey=resolveIndexKey(config.namespace)+namespaceSuffix,isExpired=localStorage.getItem(expireKey)<Date.now();if(INDEXS=JSON.parse(localStorage.getItem(indexKey)),isExpired)INDEXS={};else if(!isAuto)return;var len=paths.length,count=0;paths.forEach((function(path){if(INDEXS[path])return count++;Docsify.get(vm.router.getFile(path),!1,vm.config.requestHeaders).then((function(result){INDEXS[path]=genIndex(path,result,vm.router,config.depth),len===++count&&saveData(config.maxAge,expireKey,indexKey)}))}))}var NO_DATA_TEXT="",options;function tpl(vm,defaultValue){void 0===defaultValue&&(defaultValue="");var html='<div class="input-wrap">\n   <i class="fa fa-search" ></i>\n <input type="search" value="'+defaultValue+'" placeholder="搜索" aria-label="Search text" />\n      <div class="clear-button">\n        <svg width="26" height="24">\n          <circle cx="12" cy="12" r="11" fill="#ccc" />\n          <path stroke="white" stroke-width="2" d="M8.25,8.25,15.75,15.75" />\n          <path stroke="white" stroke-width="2"d="M8.25,15.75,15.75,8.25" />\n        </svg>\n      </div>\n    </div>\n    </div>',el=Docsify.dom.create("div",html),nav=Docsify.dom.find("nav .nav-search");if(Docsify.dom.toggleClass(el,"search"),Docsify.dom.before(nav,el),"/"===vm.route.path){var homeSearch=Docsify.dom.find(".homepage-search");if(homeSearch){var elHome=Docsify.dom.create("div",html);Docsify.dom.toggleClass(elHome,"search"),Docsify.dom.appendTo(homeSearch,elHome)}}var $content=Docsify.dom.find(".content"),$panel=Docsify.dom.find($content,".search-results"),$markdownSection;$panel&&($panel.classList.remove("show"),$panel.innerHTML="",Docsify.dom.find($content,".markdown-section").classList.remove("hide"))}function tplSearchResult(){var $content=Docsify.dom.find(".content"),$panel=Docsify.dom.create("div");Docsify.dom.toggleClass($panel,"add","search-results"),Docsify.dom.appendTo($content,$panel)}function doSearch(value){var $search=Docsify.dom.find("div.search"),$content=Docsify.dom.find(".content"),$clearBtn=Docsify.dom.find($search,".clear-button"),$sidebarNav=Docsify.dom.find(".sidebar-nav"),$appName=Docsify.dom.find(".app-name"),$panel=Docsify.dom.find($content,".search-results"),$markdownSection=Docsify.dom.find($content,".markdown-section"),$contentAnchors=Docsify.dom.find($content,".content-anchors");if(!value)return $panel.classList.remove("show"),$clearBtn.classList.remove("show"),$markdownSection.classList.remove("hide"),$contentAnchors.classList.remove("hide"),$panel.innerHTML="",void(options.hideOtherSidebarContent&&($sidebarNav.classList.remove("hide"),$appName.classList.remove("hide")));var matchs=search(value),html="";matchs.forEach((function(post){html+='<div class="matching-post">\n<a href="'+post.url+'">\n<h2>'+post.title+"</h2>\n<p>"+post.content+"</p>\n</a>\n</div>"})),$panel.classList.add("show"),$clearBtn.classList.add("show"),$markdownSection.classList.add("hide"),$contentAnchors.classList.add("hide"),$panel.innerHTML=html||'<p class="empty">'+NO_DATA_TEXT+"</p>",options.hideOtherSidebarContent&&($sidebarNav.classList.add("hide"),$appName.classList.add("hide"))}function bindEvents(){var $search=Docsify.dom.find("div.search"),$input=Docsify.dom.find($search,"input"),$inputWrap=Docsify.dom.find($search,".input-wrap"),timeId;Docsify.dom.on($search,"click",(function(e){return-1===["A","H2","P","EM"].indexOf(e.target.tagName)&&e.stopPropagation()})),Docsify.dom.on($input,"input",(function(e){clearTimeout(timeId),timeId=setTimeout((function(_){return doSearch(e.target.value.trim())}),100)})),Docsify.dom.on($inputWrap,"click",(function(e){"INPUT"!==e.target.tagName&&($input.value="",doSearch())}))}function updatePlaceholder(text,path){var $input=Docsify.dom.getNode('.search input[type="search"]');if($input)if("string"==typeof text)$input.placeholder=text;else{var match=Object.keys(text).filter((function(key){return path.indexOf(key)>-1}))[0];$input.placeholder=text[match]}}function updateNoData(text,path){if("string"==typeof text)NO_DATA_TEXT=text;else{var match=Object.keys(text).filter((function(key){return path.indexOf(key)>-1}))[0];NO_DATA_TEXT=text[match]}}function updateOptions(opts){options=opts}function init$1(opts,vm){tplSearchResult(),updateOptions(opts)}function update(opts,vm){var keywords=vm.router.parse().query.s;tpl(vm,keywords),bindEvents(),updateOptions(opts),updatePlaceholder(opts.placeholder,vm.route.path),updateNoData(opts.noData,vm.route.path)}var CONFIG={placeholder:"Type to search",noData:"No Results!",paths:"auto",depth:2,maxAge:864e5,hideOtherSidebarContent:!1,namespace:void 0,pathNamespaces:void 0},install=function(hook,vm){var util=Docsify.util,opts=vm.config.search||CONFIG;Array.isArray(opts)?CONFIG.paths=opts:"object"==typeof opts&&(CONFIG.paths=Array.isArray(opts.paths)?opts.paths:"auto",CONFIG.maxAge=util.isPrimitive(opts.maxAge)?opts.maxAge:CONFIG.maxAge,CONFIG.placeholder=opts.placeholder||CONFIG.placeholder,CONFIG.noData=opts.noData||CONFIG.noData,CONFIG.depth=opts.depth||CONFIG.depth,CONFIG.hideOtherSidebarContent=opts.hideOtherSidebarContent||CONFIG.hideOtherSidebarContent,CONFIG.namespace=opts.namespace||CONFIG.namespace,CONFIG.pathNamespaces=opts.pathNamespaces||CONFIG.pathNamespaces);var isAuto="auto"===CONFIG.paths;hook.ready((function(_){init$1(CONFIG,vm),isAuto&&init(CONFIG,vm)})),hook.doneEach((function(_){update(CONFIG,vm),isAuto&&init(CONFIG,vm)}))};$docsify.plugins=[].concat(install,$docsify.plugins)}();