!function(){var l,d={},w=document.body.clientWidth<=600;function x(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'/]/g,function(e){return t[e]})}function f(e){var t="";if(e.cells&&e.cells.length)for(var a=0,n=e.cells.length;a<n;a++)for(var s=e.cells[a],i=0,o=s.length;i<o;i++)s[i].trim()&&(t+=s[i]+" ");return t}function b(e){var t=new RegExp("[*]","gi");return e.replace(t,"")}function i(e){var m=[],y=[];Object.keys(d).forEach(function(t){y=y.concat(Object.keys(d[t]).map(function(e){return d[t][e]}))});function t(e){var t,a,n,s=(t=y[e],a=t.title||"",n=t.body||"",a=a.replace(/\(.*\)/,""),n=n.replace(/\n\s+/g,""),{title:b(a),body:b(n),slug:t.slug}),i=!1,o="",r=s.title&&s.title.trim(),c=s.body&&s.body.trim(),l=s.slug||"";if(r&&c){var d=new RegExp(v.replace("-","-").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),f=-1;if(isTitle=r&&r.match(d),isContent=c&&c.match(d),isTitle||isContent){i=!0;f=0;isContent&&(f=c.indexOf(v));var p,u=0,h=w?70:500;(u=0==(p=f<11?0:f-10)?h:f+v.length+h)>c.length&&(u=c.length),o+="..."+x(c.substring(p,u)).replace(d,'<em class="search-keyword">'+v+"</em>")+"...",r=x(r).replace(d,'<em class="search-keyword">'+v+"</em>")}else i=!1;if(i){var g={title:r,content:o,url:l};0===r.indexOf("<em class=")?m.unshift(g):m.push(g)}}}for(var v=e,a=0;a<y.length;a++)t(a);return m}function c(n,s){l=Docsify;var e="auto"===n.paths,t=localStorage.getItem("docsify.search.expires")<Date.now();if(d=JSON.parse(localStorage.getItem("docsify.search.index")),t)d={};else if(!e)return;var i,o,a=e?(i=s.router,o=[],l.dom.findAll("a:not([data-nosearch])").forEach(function(e){var t=e.href,a=e.getAttribute("href"),n=i.parse(t).path;n&&-1===o.indexOf(n)&&!Docsify.util.isAbsolutePath(a)&&o.push(n)}),o):n.paths,r=a.length,c=0;a.forEach(function(a){if(d[a])return c++;l.get(s.router.getFile(a),!1,s.config.requestHeaders).then(function(e){var t;d[a]=function(n,e,s,i){if(!(e=e.replace(/^\s*$/g,"")||"").match(/^#/)){var t="uni-app",a=n.match(/\/([^\/]+)/i);a&&a[1]&&(t=a[1]),e="# "+t+"\n"+e}var o,r=window.marked.lexer(e),c=window.Docsify.slugify,l={},d=null;return r.forEach(function(e){if("heading"===e.type&&e.depth<=i){e.depth<3&&(d=null),3===e.depth&&(d=e.text);var t=e.text.match(/@([A-Za-z0-9\-]+)/),a="";t?(a=t[1],e.text=e.text.replace(t[0],"")):a=e.text,o=s.toURL(n,{id:c(a)}),l[o]={slug:o,title:e.text,body:""},4===e.depth&&d&&(l[o].title=d+"#"+l[o].title)}else{if(!o)return;l[o]?l[o].body?"table"===e.type?l[o].body+="\n"+f(e):l[o].body+="\n"+(e.text||""):"table"===e.type?l[o].body=f(e):l[o].body=e.text:l[o]={slug:o,title:"",body:""}}}),c.clear(),l}(a,e,s.router,n.depth),r===++c&&(t=n.maxAge,localStorage.setItem("docsify.search.expires",Date.now()+t),localStorage.setItem("docsify.search.index",JSON.stringify(d)))})})}var p="";function o(e,t){var a=new RegExp(t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),n=new RegExp("&lt;span style='font-weight:bold;color:red'&gt;","g"),s=new RegExp("&lt;/span&gt;","g");return e.replace(n,"").replace(s,"").replace(a,'<em class="search-keyword">'+t+"</em>")}function u(e,t){var a="",n="规范";switch(t&&(e.title=o(e.title,t),e.content=o(e.content,t)),a+='<div class="matching-post">\n',e.type){case"questions":n="问题";break;case"articles":n="文章"}if(a+='<a href="'+e.url+'" target="_blank"><div class="post-wrapper">',t){var s="questions"===e.type?"回复":"评论";a+='<p class="aw-text"><span class="post-tag">'+n+"</span></p>"}else a+='<p class="aw-text"><span class="post-tag">'+n+"</span></p>";return a+="\n<h2>"+e.title+"</h2></div>",t&&(a+="<p>"+e.comment_count+"个"+s+'<span class="aw-text-space">-</span>'+e.view_count+"次浏览</p>"),a+="\n<p>"+e.content+"</p>\n</a>\n</div>"}function h(c,e){var t=Docsify.dom.find("div.search"),l=w?Docsify.dom.find(t,".results-panel"):document.getElementById("search-results"),a=Docsify.dom.find(t,".clear-button"),n=document.getElementById("main");if(!c)return a.classList.remove("show"),l.classList.remove("show"),l.innerHTML="",!w&&n&&n.classList.remove("hide"),void(e.config.searchPlugin.searching=!1);var s=i(c),d="";s.forEach(function(e){d+=u(e)}),l.classList.add("show"),a.classList.add("show"),l.innerHTML=d||'<p class="empty"></p>',w||n.classList.add("hide"),$docsify.get("//ext.dcloud.net.cn/search/json?query="+encodeURIComponent(c)).then(function(e){var t,a,n=JSON.parse(e);if(0===n.ret){for(var s=n.data,i="",o=0,r=s.length;o<r;o++)i+=(t=s[o],a=void 0,a="",a+='<div class="matching-post">\n',a+='<a href="'+t.url+'" target="_blank"><div class="post-wrapper">',a+='<p class="aw-text"><span class="post-tag">插件</span></p>',a+="\n<h2>"+t.name+"</h2></div>",a+="<p>"+t.total_download+"次下载</p>",a+="\n<p>"+t.description+"</p>\n</a>\n</div>");l.innerHTML+=i}$docsify.get("//ask.dcloud.net.cn/search/ajax/search_result/search_type-doc__q-"+c+"__page-1").then(function(e){if(e){var t=JSON.parse(e);if(0===t.code){var a=t.data,n="";a.forEach(function(e){n+=u(e,c)}),n&&(n+='<div class="more"><a href="//ask.dcloud.net.cn/search/q-'+t.searchKeyword+'#all" target="_blank">前往社区搜索更多内容</a></div>',l.innerHTML+=n)}else d||(l.innerHTML='<p class="empty">'+p+"</p>")}})}),e.config.searchPlugin.searching=!0}function g(e,t){var a,n,s,i,o,r=t.router.parse().query.s;!function(e){void 0===e&&(e="");var t='<div class="input-wrap">\n      <input type="search" value="'+e+'" placeholder="搜索">\n      <div class="clear-button">\n        <svg width="26" height="24">\n          <circle cx="12" cy="12" r="11" fill="#ccc" />\n          <path stroke="white" stroke-width="2" d="M8.25,8.25,15.75,15.75" />\n          <path stroke="white" stroke-width="2"d="M8.25,15.75,15.75,8.25" />\n        </svg>\n      </div>\n    </div>\n    <div class="results-panel"></div>\n    </div>',a=Docsify.dom.create("div",t),n=Docsify.dom.find("aside"),s=Docsify.dom.find(".app-nav");Docsify.dom.toggleClass(a,"search"),w&&Docsify.dom.toggleClass(a,"mobile"),w?Docsify.dom.before(n,a):(Docsify.dom.toggleClass(a,"nav-search"),Docsify.dom.before(s,a))}(r),a=t,s=Docsify.dom.find("div.search"),i=Docsify.dom.find(s,"input"),o=Docsify.dom.find(s,".input-wrap"),Docsify.dom.on(s,"click",function(e){return"A"!==e.target.tagName&&e.stopPropagation()}),Docsify.dom.on(i,"input",function(t){clearTimeout(n),n=setTimeout(function(e){return h(t.target.value.trim(),a)},1e3)}),Docsify.dom.on(o,"click",function(e){"INPUT"!==e.target.tagName&&h(i.value="",a)}),r&&setTimeout(function(e){return h(r,t)},500)}function m(e,t){!function(e,t){var a=Docsify.dom.getNode('.search input[type="search"]');if(a)if("string"==typeof e)a.placeholder=e;else{var n=Object.keys(e).filter(function(e){return-1<t.indexOf(e)})[0];a.placeholder=e[n]}}(e.placeholder,t.route.path),function(e,t){if("string"==typeof e)p=e;else{var a=Object.keys(e).filter(function(e){return-1<t.indexOf(e)})[0];p=e[a]}}(e.noData,t.route.path)}var y={placeholder:"Type to search",noData:"No Results!",paths:"auto",depth:2,maxAge:864e5};$docsify.searchPlugin={install:function(e,t){var a,n,s,i,o=(a=t,n=y,s=Docsify.util,i=a.config.search||y,Array.isArray(i)?n.paths=i:"object"==typeof i&&(n.paths=Array.isArray(i.paths)?i.paths:"auto",n.maxAge=s.isPrimitive(i.maxAge)?i.maxAge:n.maxAge,n.placeholder=i.placeholder||n.placeholder,n.noData=i.noData||n.noData,n.depth=i.depth||n.depth),n),r="auto"===o.paths;e.mounted(function(e){g(0,t),r||c(o,t)}),e.doneEach(function(e){m(o,t),r&&c(o,t)})},clear:function(e){var t=Docsify.dom.find("div.search"),a=Docsify.dom.find(t,"input"),n=w?Docsify.dom.find(t,".results-panel"):document.getElementById("search-results"),s=Docsify.dom.find(t,".clear-button"),i=document.getElementById("main");a.value="",s.classList.remove("show"),n.classList.remove("show"),n.innerHTML="",!w&&i&&i.classList.remove("hide"),e.config.searchPlugin.searching=!1},searching:!1,init:g}}();